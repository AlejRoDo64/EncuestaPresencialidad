{% extends "Base.html" %}
{% block title %}Formulario - Encuesta Anónima{% endblock %}

{% block content %}
<div class="bg-white border border-gray-200 rounded-2xl shadow-xl p-6 sm:p-8 w-full max-w-4xl">
  <h2 class="text-center text-2xl font-bold text-gray-800 mb-6">Formulario de Encuesta</h2>
  
  <form method="POST" id="encuestaForm" class="space-y-6 text-gray-800">

    <!-- 1 -->
    <div>
      <label class="block mb-1 font-medium">¿Cuántos años llevas trabajando en la empresa?</label>
      <input type="number" name="anios_empresa" min="0" placeholder="Comenta tu respuesta"
        class="w-full rounded-lg border-gray-300 p-2 focus:ring focus:ring-blue-300" required>
    </div>

    <!-- 2 -->
    <div>
      <label class="block mb-1 font-medium">¿Qué tan justa consideras la decisión de retorno para todos los equipos?</label>
      <select name="justicia" class="w-full rounded-lg border-gray-300 p-2 focus:ring focus:ring-blue-300" required>
        <option value="">Seleccione una opción</option>
        <option>Muy injusta</option>
        <option>Injusta</option>
        <option>Neutral</option>
        <option>Justa</option>
        <option>Muy justa</option>
      </select>
    </div>

    <!-- 3 -->
    <div>
      <label class="block mb-1 font-medium">¿Consideras que tu productividad se vería afectada con esta modalidad?</label>
      <select name="productividad" class="w-full rounded-lg border-gray-300 p-2 focus:ring focus:ring-blue-300" required>
        <option value="">Seleccione una opción</option>
        <option>Disminuiría mucho</option>
        <option>Disminuiría</option>
        <option>Se mantendría igual</option>
        <option>Aumentaría</option>
        <option>Aumentaría mucho</option>
      </select>
    </div>

    <!-- 4 -->
    <div>
      <label class="block mb-1 font-medium">¿En qué actividades consideras que el trabajo presencial aporta más valor?</label>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
        <label><input type="checkbox" name="valor_presencial_extra" value="Reuniones de coordinación" class="mr-2">Reuniones de coordinación</label>
        <label><input type="checkbox" name="valor_presencial_extra" value="Innovación o sesiones de ideación" class="mr-2">Innovación o sesiones de ideación</label>
        <label><input type="checkbox" name="valor_presencial_extra" value="Mentoría y acompañamiento" class="mr-2">Mentoría y acompañamiento</label>
        <label><input type="checkbox" name="valor_presencial_extra" value="Comunicación con otras áreas" class="mr-2">Comunicación con otras áreas</label>
        <label><input type="checkbox" name="valor_presencial_extra" value="Ninguna" class="mr-2">Ninguna</label>
        <label><input type="checkbox" id="chkOtro2" class="mr-2">Otra (especificar)</label>
      </div>
      <textarea id="txtOtro2" name="otro_valor2" class="hidden mt-2 w-full rounded-lg border-gray-300 p-2" rows="2" placeholder="Comenta tu respuesta"></textarea>
    </div>

    <!-- 5 -->
    <div>
      <label class="block mb-1 font-medium">¿Qué tan alineado consideras el esquema 4x1 con la naturaleza de tus funciones?</label>
      <select name="alineacion" class="w-full rounded-lg border-gray-300 p-2 focus:ring focus:ring-blue-300" required>
        <option value="">Seleccione una opción</option>
        <option>Muy alineado</option>
        <option>Parcialmente alineado</option>
        <option>Poco alineado</option>
        <option>Nada alineado</option>
      </select>
    </div>

    <!-- 6 -->
    <div>
      <label class="block mb-1 font-medium">¿Cuánto tiempo inviertes diariamente en desplazarte (ida y vuelta)?</label>
      <select name="tiempo_total" class="w-full rounded-lg border-gray-300 p-2 focus:ring focus:ring-blue-300" required>
        <option value="">Seleccione una opción</option>
        <option>Menos de 1 hora</option>
        <option>1 a 2 horas</option>
        <option>2 a 3 horas</option>
        <option>Más de 3 horas</option>
      </select>
    </div>

    <!-- 7 -->
    <div>
      <label class="block mb-1 font-medium">¿Cómo afectaría este esquema tu balance entre vida personal y laboral?</label>
      <select name="balance" class="w-full rounded-lg border-gray-300 p-2 focus:ring focus:ring-blue-300" required>
        <option value="">Seleccione una opción</option>
        <option>Lo afectaría mucho</option>
        <option>Lo afectaría poco</option>
        <option>No lo afectaría</option>
      </select>
    </div>

    <!-- 8 -->
    <div>
      <label class="block mb-1 font-medium">¿Qué impacto tendría en tu salud física o mental?</label>
      <select name="salud" class="w-full rounded-lg border-gray-300 p-2 focus:ring focus:ring-blue-300" required>
        <option value="">Seleccione una opción</option>
        <option>Muy negativo</option>
        <option>Algo negativo</option>
        <option>Neutral</option>
        <option>Algo positivo</option>
        <option>Muy positivo</option>
      </select>
    </div>

    <!-- 9 -->
    <div>
      <label class="block mb-1 font-medium">¿Cómo se vería tu nivel de motivación general con el trabajo?</label>
      <select name="motivacion" class="w-full rounded-lg border-gray-300 p-2 focus:ring focus:ring-blue-300" required>
        <option value="">Seleccione una opción</option>
        <option>Disminuiría mucho</option>
        <option>Disminuiría</option>
        <option>Se mantendría igual</option>
        <option>Aumentaría</option>
        <option>Aumentaría mucho</option>
      </select>
    </div>

    <!-- 10 -->
    <div>
      <label class="block mb-1 font-medium">¿Qué condiciones o medidas podrían mejorar tu experiencia con el modelo 4x1?</label>
      <textarea name="mejoras" class="w-full rounded-lg border-gray-300 p-2" rows="2" placeholder="Comenta tu respuesta"></textarea>
    </div>

    <!-- 11 -->
    <div>
      <label class="block mb-1 font-medium">¿Qué riesgos o inconvenientes percibes con este cambio?</label>
      <textarea name="riesgos" class="w-full rounded-lg border-gray-300 p-2" rows="2" placeholder="Comenta tu respuesta"></textarea>
    </div>

    <!-- 12 -->
    <div>
      <label class="block mb-1 font-medium">¿El nuevo esquema afectaría tu intención de permanecer en la compañía?</label>
      <select name="permanencia_empresa" class="w-full rounded-lg border-gray-300 p-2 focus:ring focus:ring-blue-300" required>
        <option value="">Seleccione una opción</option>
        <option>Sí</option>
        <option>No</option>
        <option>Aún no lo sé</option>
      </select>
    </div>

    <!-- 13 -->
    <div>
      <label class="block mb-1 font-medium">¿Qué recomendaciones darías a la dirección para facilitar la transición y mantener la motivación del equipo?</label>
      <textarea name="recomendaciones" class="w-full rounded-lg border-gray-300 p-2" rows="2" placeholder="Comenta tu respuesta"></textarea>
    </div>

    <!-- 14 -->
    <div>
      <label class="block mb-1 font-medium">¿Qué oportunidades o beneficios crees que puede traer el modelo 4x1?</label>
      <textarea name="oportunidades" class="w-full rounded-lg border-gray-300 p-2" rows="2" placeholder="Comenta tu respuesta"></textarea>
    </div>

    <!-- Enviar -->
    <div class="text-center">
      <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-lg font-bold hover:bg-blue-500 transition">
        Enviar Encuesta
      </button>
    </div>
  </form>
</div>
{% endblock %}

{% block scripts %}
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const chkOtro2 = document.getElementById("chkOtro2");
    const txtOtro2 = document.getElementById("txtOtro2");
    if (chkOtro2) {
      chkOtro2.addEventListener("change", () => {
        txtOtro2.classList.toggle("hidden", !chkOtro2.checked);
        if (!chkOtro2.checked) txtOtro2.value = "";
      });
    }
  });
</script>
{% endblock %}